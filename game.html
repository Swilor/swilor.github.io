<!doctype html>
<html>
<head></head>
<body>
  <script src="js/processing.js"></script>
  <script type="text/processing" data-processing-target="processing-canvas">
  import ddf.minim.*;

Minim minim;
AudioPlayer drum;
AudioSample sound1, sound2, sound3;

int circle1=0;
int circle2=0;
int circle3=0;
int circle1Speed=2;
int circle2Speed=1;
int circle3Speed=3;
int points=0;
boolean level2=false;

void setup(){
size(400,800);
minim = new Minim(this);
drum = minim.loadFile("drum.mp3");
// drum.cue(30000);
drum.play();
drum.setGain(30);
sound1=minim.loadSample("sound1.mp3",512);
sound2=minim.loadSample("sound2.mp3",512);
sound3=minim.loadSample("sound3.mp3",512);
}

void draw(){
if(points>400&& level2==false){
circle1Speed+=2;
circle2Speed+=2;
circle3Speed+=2;
level2=true;
}
background(0);
fill(120);
ellipse(100,600,50,50);
ellipse(200,600,50,50);
ellipse(300,600,50,50);
fill(#FF8383);
ellipse(100,circle1,50,50);
fill(#ECFF83);
ellipse(200,circle2,50,50);
fill(#83BCFF);
ellipse(300,circle3,50,50);

fill(#97FF83);
rect(0,height-points,20,height);


circle1+=circle1Speed;
circle2+=circle2Speed;
circle3+=circle3Speed;

if(circle1>height){
circle1=0;
points-=30;
}
if(circle2>height){
circle2=0;
points-=30;
}
if(circle3>height){
circle3=0;
points-=30;
}

}

void keyPressed(){
if(key=='a' && dist(100,circle1,100,600)<20){
sound1.trigger();
circle1=0;
points+=20;
}
if(key=='s' && dist(200,circle2,200,600)<20){
sound2.trigger();
circle2=0;
points+=20;
}
if(key=='d' && dist(300,circle3,300,600)<20){
sound3.trigger();
circle3=0;
points+=20;
}
}
  </script>
  <canvas id="processing-canvas"> </canvas>

</body>
</html>
